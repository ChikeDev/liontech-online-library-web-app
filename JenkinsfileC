pipeline{
    agent any

    tools{
        maven "maven3.9.2"
    }

    stages {
        stage("CloneFromSourceCode"){
            steps{
                sh "echo 'clone source code from Github'"
                git branch: '', url: 'https://github.com/ChikeDev/liontech-online-library-web-app.git'
            }
        }
        stage ("Test-Build-Package"){
            steps{
                sh "echo 'Building APP with Maven'"
                sh "mvn install"
                sh "mvn validate"
                sh "mvn test"
                sh "mvn clean package"
            }
        }
        stage ("codequality"){
            steps{
                sh "echo 'Performing Code Quality Analysis"
                sh "mvn sonar:sonar"
            }
        }
        stage ("Upload to Nexus"){
            steps{
                sh "mvn deploy"
            }
        }


        
    }




}